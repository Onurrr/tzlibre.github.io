<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <title>TzLibre trustless whitelisting</title>
</head>

<body>

  <style>
    html{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*,*::before,*::after{-webkit-box-sizing:inherit;-moz-box-sizing:inherit;box-sizing:inherit}body,html{width:100%;padding:0;margin:0}body{background-color:#1F260B;text-align:center}.content{text-align:left;max-width:45em;margin:auto;padding:0 1em}.content>.block{padding:6em 0}.datagroup{margin-bottom:2em}.datagroup p{font-size:0.9em;margin:0;word-break:break-all}.datagroup.separator-arrow{text-align:center;font-size:2em;margin-bottom:0.5em;margin-top:-0.5em}.datagroup.separator-arrow:after{content:'\2B07'}.datagroup.separator-line{border-bottom:1px solid #fff}.datagroup-row{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.datagroup-row .datagroup{-webkit-flex-grow:1;flex-grow:1}#form-result{display:none}body{font-family:"Andale Mono","Lucida Console",Monaco,Consolas,"Lucida Sans Typewriter","Courier New",monospace;font-size:16px;font-weight:normal;color:#fff;text-rendering:optimizeLegibility}a{cursor:pointer;text-decoration:none;color:inherit;outline:none}a[name]{display:block}p{font-size:1em;line-height:1.6;margin:0 0 1em 0;padding:0;color:#fff}p a{text-decoration:underline}p a:hover{color:#ABE617}p.legend{font-size:0.75em;padding:0.5em 0}li{line-height:1.6;padding:0}::-moz-selection{background:#ABE617;text-shadow:none}::selection{background:#ABE617;text-shadow:none}#tosave{display:none}h2{font-size:3em;margin:0 0 1em 0;padding:0;color:#ABE617;line-height:1.25;word-break:break-all}h3{font-size:2em;margin:3em 0 1em 0;padding:0;color:#ABE617;line-height:1.25}h4{font-size:0.75em;text-transform:uppercase;margin:0;padding:0;color:#ABE617;line-height:1.5}.mark1{color:#f1c40f}.mark2{color:#f39c12}.mark3{color:#d35400}.mark4{color:#c0392b}label{display:block;font-size:0.9em;text-transform:uppercase;color:#ABE617;line-height:2.5em;cursor:pointer}input:not([type="submit"]){display:block;font-family:"Andale Mono","Lucida Console",Monaco,Consolas,"Lucida Sans Typewriter","Courier New",monospace;width:100%;border:2px solid #fff;background-color:transparent;color:#fff;font-size:1em;line-height:3em;padding:0 1em;outline:none}input:not([type="submit"]).fielderror{border-color:red}input[type="checkbox"]{display:inline-block;width:auto}input[type="checkbox"]+label{display:inline-block;padding-left:0.5em}input[type="submit"],button{display:block;width:100%;font-family:"Andale Mono","Lucida Console",Monaco,Consolas,"Lucida Sans Typewriter","Courier New",monospace;text-align:center;color:#1F260B;background-color:#ABE617;border:none;padding:1em 2em;font-size:1em;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;-o-transition:all .1s ease-out;transition:all .1s ease-out;cursor:pointer}.formrow+.formrow,.submitrow{margin-top:1em}

  </style>

  <div class="content">

    <div class="block">

      <h2>Trustless whitelisting to get TZL</h2>

      <p>This whitelisting process is the first step required to get your TZLs.</p>
      <p>Choose an ETH address that you own and whitelist it, to link it to your Tezos address. Notice that you can link just a SINGLE ETH address to each Tezos address: if you have more Tezos addresses, then you should use a different ETH address for each one.</p>
      <p>If you feel confident with the command line, you can head to this <a href="" target="_blank">Github repo</a>, a fork of the official DLS-Tezos Fundraiser tool.</p>
      <p>Otherwise, here's a simple form to create the required TX data.<br/>Here we go!</p>

      <h3>1. Save this page and disconnect</h3>

      <p>In this process you're going to handle very sensitive data. You don't want to leak this data, and we will never ask you for sensitive data.</p>
      <p>We strongly suggest you to:</p>
      <ol>
        <li>Download this page</li>
        <li>Disconnect every network connection</li>
        <li>Open the saved page and fill in the form to generate the TX data</li>
      </ol>
      <p>Then you will save the TX data in a text file, close this page and safely reconnect to the internet.</p>

      <h3>2. Fill in the form</h3>

      <p>Be sure to be disconnected, then fill in this form. Some of this data are in the PDF you got during the ICO.</p>

      <form action="Javascript:submitForm()">

        <div class="formrow">
          <label for="field_tzaddress">Tezos address</label>
          <input id="field_tzaddress" type="text" placeholder="tz1..." required>
        </div>

        <div class="formrow">
          <label for="field_seed">Tezos mnemonic seed</label>
          <input id="field_seed" type="text" placeholder="15 words" required>
        </div>

        <div class="formrow">
          <label for="field_email">Email used for the Tezos ICO</label>
          <input id="field_email" type="email" required>
        </div>

        <div class="formrow">
          <label for="field_password">Password used for the Tezos ICO</label>
          <input id="field_password" type="text" required>
        </div>

        <div class="formrow">
          <label for="field_ethaddress">ETH address to whitelist</label>
          <input id="field_ethaddress" type="text" placeholder="0x..." required>
          <p class="legend">Remember that you can link only ONE specific ETH address for each Tezos address you own</p>
        </div>

        <div class="formrow">
          <input id="field_accept" type="checkbox" required><label for="field_accept">I accept to...</label>
        </div>

        <div class="submitrow">
          <input type="submit" value="Generate TX data">
        </div>

      </form>

      <a name="txdata"></a>

      <div id="form-result">

        <h3>3. Verify TX data</h3>

        <div class="datagroup">
          <h4>Your Tezos public key</h4>
          <p class="mark1" id="tx-publickey">9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78a8abaabc69abca6cb78a6ca</p>
        </div>

        <div class="datagroup">
          <h4>ETH address signature</h4>
          <p class="mark2" id="tx-ethaddrsign">9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78a8abaabc69abca6cb78a6ca</p>
        </div>

        <div class="datagroup">
          <h4>Declaration signature</h4>
          <p class="mark3" id="tx-declarationsign">9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78a8abaabc69abca6cb78a6ca</p>
        </div>

        <div class="datagroup separator-arrow"></div>

        <div class="datagroup">
          <h4>TX data</h4>
          <p id="tx-data">76c78a8abaabc69abca6cb776c78a8abaabc69abca6cb7<span class="mark1">9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78a8abaabc69abca6cb78a6ca</span>abaabc69abca6cb776c78<span class="mark2">9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78a8abaabc69abca6cb78a6ca</span>cb776c78a8abaabc6976c78a8abaabc69abca6cb7<span class="mark3">9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78a8abaabc69abca6cb78a6ca</span>76c78a8abaabc69abca6cb776c78a8abaabc69abca6cb7cb776c78a8abaabc69cb776c78a8abaabc69</p>
        </div>

        <div class="datagroup separator-line"></div>

        <div class="datagroup">
          <h4>From (your ETH address)</h4>
          <p id="tx-from">0x9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068</p>
        </div>

        <div class="datagroup">
          <h4>To (Contract address)</h4>
          <p id="tx-to">0x9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068</p>
        </div>

        <div class="datagroup-row">

          <div class="datagroup">
            <h4>Amount to send</h4>
            <p id="tx-amount">0.01 ETH</p>
          </div>

          <div class="datagroup">
            <h4>Gas limit</h4>
            <p id="tx-gaslimit">1000000</p>
          </div>

          <div class="datagroup">
            <h4>Gas price</h4>
            <p id="tx-gasprice">20 GWei</p>
          </div>

        </div>

        <div id="tosave">

        1. Make this transaction

        FROM
        <span id="tosave-from">0x9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068</span>

        TO
        <span id="tosave-to">0x9790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068</span>

        TX DATA
        <span id="tosave-data">76c78a8abaabc69abca6cb776c78a8abaabc69abca6cb79790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78a8abaabc69abca6cb78a6caabaabc69abca6cb776c789790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78a8abaabc69abca6cb78a6cacb776c78a8abaabc6976c78a8abaabc69abca6cb79790ab8a7068ca8076c7ab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78aab8a7068ca8076c78a8abaabc69abca6cb78a6ca76c78a8abaabc69abca6cb776c78a8abaabc69abca6cb7cb776c78a8abaabc69cb776c78a8abaabc69</span>

        AMOUNT TO SEND
        <span id="tosave-amount">0.01 ETH</span>

        GAS LIMIT
        <span id="tosave-gaslimit">1000000</span>

        GAS PRICE
        <span id="tosave-gasprice">20 Gwei</span>

        -------------------

        2. Check and wait

        Check the transaction progress on etherscan.io, then wait some minutes for the oracle invocation.

        -------------------

        3. Verify your whitelisting status

        Go to https://... and enter the ETH address you have whitelisted.
        If everything is correct, you'll also know how many XTZ you can split.

        -------------------

        4. Stay tuned

        Subscribe to our Telegram channel to be notified when you will be able to split your XTZ.
        https://t.me/tzlibre

        </div>

        <h3>4. Make the transaction</h3>

        <p>If the TX data look correct, you can now:</p>
        <ol>
          <li>Download the TX data and save it in a text file</li>
          <li>Close this page and reconnect to the internet</li>
          <li>Make the transaction with your favorite wallet (from the ETH address you specified) and verify it</li>
          <li>Follow the instructions attached in the text file</li>
        </ol>

        <button onclick="saveTextAsFile()">Download TX data and instructions</button>

      </div>

    </div>

  </div>

  <script>

    // Generate TX data

    function submitForm()
    {
      window.location.hash = "";
      var isValid = false,
        response = {};

      // TO DO: call encryption script

      isValid = true;

      if ( isValid ) {
        showTxData( response );
      } else {
        showFormError();
      }
    }

    function showTxData( data )
    {

      // TO DO: populate data

      document.getElementById( "form-result" ).style.display = "block";
      window.location.hash = "txdata";
    }

    function showFormError()
    {
      alert( "Sorry, there's something wrong! Check your data carefully and try again." );
    }

    // Save TX data

    function saveTextAsFile()
    {
      var content = document.getElementById( "tosave" ).textContent,
        contentBlob = new Blob( [content], { type: "text/plain" } ),
        contentURL = window.URL.createObjectURL( contentBlob ),
        btn = document.createElement( "a" );

      btn.download = "tzl-instructions.txt";
      btn.innerHTML = "Download File";
      btn.href = contentURL;
      btn.onclick = destroyClickedElement;
      btn.style.display = "none";
      document.body.appendChild( btn );
      btn.click();
    }

    function destroyClickedElement( el )
    {
      document.body.removeChild( el.target );
    }

  </script>

</body>
</html>